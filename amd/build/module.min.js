define("block_quizonepagepaginate/module",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * JS for this plugin.
   *
   * @copyright   IntegrityAdvocate.com
   * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
class block_quizonepagepaginate{constructor(questionsperpage){this.constructor.name;this.questionsperpage=questionsperpage,this.eltQuestionsSelector="#page-mod-quiz-attempt #responseform .que",this.eltQuizFinishAttemptButtonSelector="#responseform .submitbtns .mod_quiz-next-nav",this.arrQuestions=[]}run(){this.constructor.name;this.getAllQuestions(),this.hideShowQuestions(),this.addNextPrevButtons()}getAllQuestions(){let self=this;const FXN=self.constructor.name+".getAllQuestions";window.console.log(FXN+"::Started"),self.arrQuestions=document.querySelectorAll(self.eltQuestionsSelector),window.console.log(FXN+"::Found "+self.arrQuestions.length+" questions on the page")}hideShowQuestions(){let self=this;const FXN=self.constructor.name+".hideShowQuestions";window.console.log(FXN+"::Started");var last=0+self.questionsperpage;self.arrQuestions.forEach((function(elt,index){window.console.log(FXN+"::Looking at index=; elt=",index,elt),index>=0&&index<last?(window.console.log(FXN+"::Show this elt"),self.setDisplayVal(elt,"block")):(window.console.log(FXN+"::Hide this elt"),self.setDisplayVal(elt,"none"))}))}setDisplayVal(elt,displayVal){elt.style.display!==displayVal&&(elt.style.display=displayVal)}addNextPrevButtons(){let self=this;const FXN=self.constructor.name+".addNextPrevButtons";window.console.log(FXN+"::Started with self.eltQuizFinishAttemptButtonSelector=",self.eltQuizFinishAttemptButtonSelector);var eltCloneSource=document.querySelector(self.eltQuizFinishAttemptButtonSelector),stringsToRetrieve=[{key:"previous",component:"core"},{key:"next",component:"core"}];require(["core/str"],(function(str){window.console.log(FXN+".require::Started with stringsToRetrieve=",stringsToRetrieve),str.get_strings(stringsToRetrieve).then((function(stringsRetrieved){window.console.log(FXN+".require.get_strings.then::Started with stringsRetrieved=",stringsRetrieved),self.addPrevNextButton(eltCloneSource,"prev",stringsRetrieved),self.addPrevNextButton(eltCloneSource,"next",stringsRetrieved)}))}))}addPrevNextButton(eltCloneSource,nextorprev,strings){var eltClone=eltCloneSource.cloneNode(),prevval=self.constructor.name+"-"+nextorprev,prevdisplay=strings["prev"==nextorprev?0:1];eltClone.setAttribute("id",prevval),eltClone.setAttribute("class",eltClone.getAttribute("class").replace("btn-primary","btn-secondary")),eltClone.setAttribute("name",prevval),eltClone.setAttribute("type",prevval),eltClone.setAttribute("value",prevdisplay),eltClone.setAttribute("data-initial-value",prevdisplay);var eltInDom=eltCloneSource.parentNode.insertBefore(eltClone,eltCloneSource);return eltInDom.addEventListener("click",(function(){window.console.log("Clicked the "+nextorprev+" button")})),eltInDom}}_exports.init=questionsperpage=>{M.block_quizonepagepaginate=new block_quizonepagepaginate(questionsperpage),M.block_quizonepagepaginate.run()}}));

//# sourceMappingURL=module.min.js.map